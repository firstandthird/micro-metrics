<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Metrics Report</title>
    <link rel="stylesheet" href="/ui/common.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/metrics-graphics/2.10.1/metricsgraphics.min.css"/>
  </head>
  <body>
    <div class="container">
      <div class="row padding-yaxis-lg">
        <div class="col-3">
          <div class="margin-bottom-md">
            <h2 class="heading-2 border-bottom margin-bottom-sm">Types</h2>
            <ul>
              {{#each types}}
              <li class="padding-bottom-xs {{#ifequal @root.selectedType this}}selected{{/ifequal}}">
                <a href="{{urlbuilder type=this tags="" last=@root.current.last}}">{{this}}</a>
              </li>
              {{/each}}
            </ul>
          </div>
          <div>
            <h2 class="heading-2 border-bottom margin-bottom-sm">Tags</h2>
            <ul>
              {{#each tags}}
                <li class="padding-bottom-xs"><a href="{{urlbuilder type=@root.current.type tags=this last=@root.current.last}}">{{this}}</a></li>
              {{/each}}
            </ul>
          </div>
        </div>
        <div class="col-9">
          <div class="heading-3 border-bottom margin-bottom-md">
            <div class="font-body pull-right">
              <a class="{{#ifequal current.last "1h"}}font-bold{{/ifequal}}" href="{{urlbuilder type=current.type tags=current.tags last="1h"}}">1hr</a>
              <a class="{{#ifequal current.last "6h"}}font-bold{{/ifequal}}" href="{{urlbuilder type=current.type tags=current.tags last="6h"}}">6hr</a>
              <a class="{{#ifequal current.last "12h"}}font-bold{{/ifequal}}" href="{{urlbuilder type=current.type tags=current.tags last="12h"}}">12hr</a>
              <a class="{{#ifequal current.last "24h"}}font-bold{{/ifequal}}" href="{{urlbuilder type=current.type tags=current.tags last="24h"}}">24hr</a>
              <a class="{{#ifequal current.last "7d"}}font-bold{{/ifequal}}" href="{{urlbuilder type=current.type tags=current.tags last="7d"}}">7d</a>
              <a class="{{#ifequal current.last "14d"}}font-bold{{/ifequal}}" href="{{urlbuilder type=current.type tags=current.tags last="14d"}}">14d</a>
            </div>
            {{#if current.type}}
              <strong>Type:</strong> {{current.type}}
              <a href="{{urlbuilder type="" last=current.last}}">&times;</a>
            {{else}}
              <strong>All Types</strong>
            {{/if}}
            {{#if current.tags}}
              <strong>Tag:</strong> {{current.tags}}
              <a href="{{urlbuilder type=current.type tags="" last=current.last}}">&times;</a>
            {{/if}}
          </div>
          {{#ifequal report.length 0}}
            <h3 class="heading-3">No Report Data</h3>
          {{/ifequal}}
          <div id="report"></div>
          <pre class="hide">{{stringify report}}</pre>
        </div>
      </div>
    </div>
    <script>
      window._data = {{stringify report}};
      window._legend = {{stringify legend}};
    </script>
    <script src="/ui/report.js"></script>
  </body>
</html>
